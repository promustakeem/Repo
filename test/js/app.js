(function(){"use strict";var InvoiceGenerator={config:{decimalSeparator:".",thousandsSeparator:","}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=InvoiceGenerator),exports.Invoiced=InvoiceGenerator):this.InvoiceGenerator=InvoiceGenerator}).call(this),function(){"use strict";angular.module("app",["LocalStorageModule","ngRoute","ngSanitize"]).constant("InvoiceGenerator",InvoiceGenerator).config(["$routeProvider",function($routeProvider){angular.module("LocalStorageModule",[]).constant("prefix","invoiced"),$routeProvider.when("/",{controller:"NewDocumentController",redirectTo:"/new"}).when("/new",{controller:"NewDocumentController",template:""}).when("/last",{controller:"LastDocumentController",template:""}).when("/:documentId",{controller:"DocumentEditorController",templateUrl:"/templates/editor.html"}).otherwise({redirectTo:"/last"})}]).run(["$rootScope","$location","$window",function($rootScope,$location,$window){$("#static").remove(),$rootScope.$on("$routeChangeSuccess",function(){$window.gtag&&$window.gtag("event","page_view",{page_path:$location.path()}),$window.scrollTo(0,0)})}])}(),function(){"use strict";$(function(){$(".nav-link-learn-more").click(function(){return $("#learnMoreCollapse").hasClass("show")?($(this).removeClass("bg-dark"),$("#learnMoreCollapse").removeClass("show")):($("#learnMoreCollapse").addClass("show"),$(this).addClass("bg-dark")),!1}),Cookies.get("gotit")&&($("#learnMoreCollapse").removeClass("show"),$(".nav-link-learn-more").removeClass("bg-dark")),$(".got-it").click(function(){return $("#learnMoreCollapse").removeClass("show"),$(".nav-link-learn-more").removeClass("bg-dark"),Cookies.set("gotit",!0,{expires:1e3}),!1})})}.call(this),function(){"use strict";function DocumentEditorController($scope,$location,$timeout,$routeParams,$window,$http,Document,Logo,LeavePageWarning,InvoiceGenerator,Email){var self=this;function save(){$scope.document.save(),self.original=angular.copy($scope.document)}$scope.document=Document.find($routeParams.documentId),$scope.document?(Document.setLastInvoice($scope.document),self.original=angular.copy($scope.document),$scope.documentType="Invoice",$scope.$watch("document",function(newVal){return!!newVal&&($scope.document.fields.discounts&&($scope.discountIsRate="%"===$scope.document.fields.discounts),$scope.document.fields.tax&&($scope.taxIsRate="%"===$scope.document.fields.tax),$scope.document.calculate(),void console.log($scope.document))},!0),$scope.discountIsRate="%"===$scope.document.fields.discounts,$scope.taxIsRate="%"===$scope.document.fields.tax,$scope.$watch("discountIsRate",function(value){$scope.document.fields.discounts&&($scope.document.fields.discounts=!value||"%")}),$scope.$watch("taxIsRate",function(value){$scope.document.fields.tax&&($scope.document.fields.tax=!value||"%")}),LeavePageWarning.block(),$scope.currencies=InvoiceGenerator.config.currencies,"string"==typeof $scope.document.currency&&($scope.document.currency=$scope.document.currency.toUpperCase()),$scope.numDocuments=Document.totalInvoices(),$scope.sendOptions=Email.new(),$scope.sendModal=function(){$scope.document.draft=!1,save(),$scope.bsSendModal=new bootstrap.Modal(document.getElementById("sendModal"),{keyboard:!1,backdrop:"static"}),$scope.bsSendModal.show()},$scope.closeSendModal=function(){$scope.bsSendModal.hide()},$scope.send=function(invoice,options){$scope.sending=!0,$scope.error=!1,$http({method:"POST",url:"/send?source=lite",data:function(params){params=angular.copy(params);return params.payment_methods=[],params}(invoice)}).success(function(response){$window.location=response.redirect_url}).error(function(response){$scope.sending=!1,response.error?$scope.error=response.error:$scope.error="There was a problem saving your invoice."})},$scope.saveSendSettings=function(){$scope.sendOptions.makeDefault()},$scope.isDefaultSendTemplate=function(){return $scope.sendOptions.isDefault()},$scope.downloadModal=function(){$scope.document.draft=!1,save(),$scope.bsDownloadModal=new bootstrap.Modal(document.getElementById("downloadModal"),{keyboard:!1,backdrop:"static"}),$scope.bsDownloadModal.show()},$scope.closeDownloadModal=function(){$scope.bsDownloadModal.hide()},$scope.downloadPDF=function(){$("#pdf_json").val(angular.toJson($scope.document)),$("#pdf_form").submit(),$timeout(function(){LeavePageWarning.unblock(),$window.location="/thanks?invoice="+$scope.document.id},1e3)},$scope.downloadUBL=function(){$("#ubl_json").val(angular.toJson($scope.document)),$("#ubl_form").submit(),$timeout(function(){LeavePageWarning.unblock(),$window.location="/thanks?invoice="+$scope.document.id},1e3)},$scope.saveDefaults=function(){$window.confirm("Do you want to make this invoice the default template, overwriting the current one?")&&$scope.document.makeDefault()},$scope.isClean=function(){return angular.equals(self.original,$scope.document)},$scope.isDefault=function(){return $scope.document&&$scope.document.isDefault()},$scope.changeLogo=function(element){Logo.read(element,function(logo){$scope.$apply(function(){$scope.document.setLogo(logo)})},function(error){$window.alert(error)})},$scope.removeLogo=function(){$scope.document.removeLogo()},$scope.addLineItem=function(){$scope.document.addLineItem(),$timeout(function(){$(".items-table .item-row:last-child .name .form-control").focus()})},$scope.deleteLineItem=function(item){$scope.document.deleteLineItem(item)},$scope.addDiscount=function(){$scope.document.fields.discounts="%"},$scope.removeDiscount=function(){$scope.document.fields.discounts=!1},$scope.addTax=function(){$scope.document.fields.tax="%"},$scope.removeTax=function(){$scope.document.fields.tax=!1},$scope.addShipping=function(){$scope.document.fields.shipping=!0},$scope.removeShipping=function(){$scope.document.fields.shipping=!1},$scope.$on("leavePageWarning",function(){$scope.document&&$scope.document.save()}),$scope.$on("$routeChangeStart",function(){$scope.document&&$scope.document.save(),LeavePageWarning.unblock()})):$location.path("/new")}angular.module("app").controller("DocumentEditorController",DocumentEditorController),DocumentEditorController.$inject=["$scope","$location","$timeout","$routeParams","$window","$http","Invoice","Logo","LeavePageWarning","InvoiceGenerator","Email"]}(),function(){"use strict";function HistoryController($scope,$window,Invoice){var exportProperties=["to","number","date","payment_terms","due_date","items","currency","fields","discounts","tax","shipping"];$scope.delete=function(invoice,$event){$window.confirm("Are you sure you want to delete this invoice?")&&invoice.delete()&&($scope.invoices=Invoice.findAll()),$event.preventDefault()},$scope.clearAll=function(){$window.confirm("Are you sure you want to permanently delete all of your invoices?")&&Invoice.deleteAll()&&($scope.invoices=[])},$scope.export=function(){var invoices=[];angular.forEach($scope.invoices,function(invoice){var _invoice={};angular.forEach(exportProperties,function(property){_invoice[property]=invoice[property]}),invoices.push(_invoice)}),$("#csv_json").val(angular.toJson({invoices:invoices})),$("#csv_form").submit()},$scope.invoices=Invoice.findAll()}angular.module("app").controller("HistoryController",HistoryController),HistoryController.$inject=["$scope","$window","Invoice"]}(),function(){"use strict";function LastDocumentController($location,doc){doc=doc.getLastInvoice();$location.path("/"+doc.id)}angular.module("app").controller("LastDocumentController",LastDocumentController),LastDocumentController.$inject=["$location","Invoice"]}(),function(){"use strict";function NewDocumentController($location,doc){doc=doc.new("invoice");doc.save(),$location.path("/"+doc.id)}angular.module("app").controller("NewDocumentController",NewDocumentController),NewDocumentController.$inject=["$location","Invoice"]}(),function(){"use strict";function datePicker($parse){return{restrict:"A",link:function(scope,element,attrs){var ngModel=$parse(attrs.ngModel);$(function(){element.datepicker({dateFormat:"M d, yy",changeMonth:!0,changeYear:!0,onSelect:function(dateText){scope.$apply(function(scope){ngModel.assign(scope,dateText)})}})})}}}angular.module("app").directive("datePicker",datePicker),datePicker.$inejct=["$parse"]}(),function(){"use strict";angular.module("app").directive("expandingTextarea",function(){return{restrict:"A",link:function(scope,element,attrs){$(element).expandingTextarea(),scope.$watch(attrs.ngModel,function(){$(element).expandingTextarea("resize")})}}})}(),function(){"use strict";angular.module("app").directive("inputAmount",function(){return{restrict:"A",template:'<div class="input-amount" ng-class="{\'is-percent\':!!isRate,\'with-selector\':hasSelector}"><div class="addon currency-sign">{{currency|currencySymbol}}</div><input class="form-control" type="number" step="any" autocomplete="off" tabindex="{{tabindex}}" ng-required="ngRequired" ng-model="value" ng-change="change()" /><div class="addon percent">%</div><div class="addon selector"><button type="button" class="btn" ng-click="toggleRate()"><span class="fas fa-repeat"></span></button></div></div>',scope:{currency:"=",isRate:"=",tabindex:"=ngTabindex",value:"=ngModel",change:"=ngChange",ngRequired:"=?",hasSelector:"=?"},link:function($scope){$scope.toggleRate=function(){$scope.isRate=!$scope.isRate}}}})}(),function(){"use strict";function currencyFormat(Money){return function(amount,currency){return Money.currencyFormat(amount,currency)}}angular.module("app").filter("currencyFormat",currencyFormat),currencyFormat.$inject=["Money"]}(),function(){"use strict";function currencySymbol(Money){return Money.currencySymbol}angular.module("app").filter("currencySymbol",currencySymbol),currencySymbol.$inject=["Money"]}(),function(){"use strict";angular.module("app").filter("firstline",function(){return function(input){return void 0!==input&&input?(input+"").split("\n",1)[0]:""}})}(),function(){"use strict";InvoiceGenerator.config.currencies={AFN:{code:"AFN",name:"AFN",symbol:"AFN",minorUnit:2},EUR:{code:"EUR",name:"EUR (€)",symbol:"€",minorUnit:2},ALL:{code:"ALL",name:"ALL (Lek)",symbol:"Lek",minorUnit:2},DZD:{code:"DZD",name:"DZD",symbol:"DZD",minorUnit:2},USD:{code:"USD",name:"USD ($)",symbol:"$",minorUnit:2},AOA:{code:"AOA",name:"AOA (Kz)",symbol:"Kz",minorUnit:2},XCD:{code:"XCD",name:"XCD ($)",symbol:"$",minorUnit:2},ARS:{code:"ARS",name:"ARS ($)",symbol:"$",minorUnit:2},AMD:{code:"AMD",name:"AMD",symbol:"AMD",minorUnit:2},AWG:{code:"AWG",name:"AWG (ƒ)",symbol:"ƒ",minorUnit:2},AUD:{code:"AUD",name:"AUD ($)",symbol:"$",minorUnit:2},AZN:{code:"AZN",name:"AZN (ман)",symbol:"ман",minorUnit:2},BSD:{code:"BSD",name:"BSD ($)",symbol:"$",minorUnit:2},BHD:{code:"BHD",name:"BHD",symbol:"BHD",minorUnit:3},BDT:{code:"BDT",name:"BDT (Tk)",symbol:"Tk",minorUnit:2},BBD:{code:"BBD",name:"BBD ($)",symbol:"$",minorUnit:2},BYN:{code:"BYN",name:"BYN (Br)",symbol:"Br",minorUnit:2},BZD:{code:"BZD",name:"BZD (BZ$)",symbol:"BZ$",minorUnit:2},XOF:{code:"XOF",name:"XOF",symbol:"XOF",minorUnit:0},BMD:{code:"BMD",name:"BMD ($)",symbol:"$",minorUnit:2},INR:{code:"INR",name:"INR (Rs)",symbol:"Rs",minorUnit:2},BTN:{code:"BTN",name:"BTN",symbol:"BTN",minorUnit:2},BOB:{code:"BOB",name:"BOB ($b)",symbol:"$b",minorUnit:2},BOV:{code:"BOV",name:"BOV",symbol:"BOV",minorUnit:2},BAM:{code:"BAM",name:"BAM (KM)",symbol:"KM",minorUnit:2},BWP:{code:"BWP",name:"BWP (P)",symbol:"P",minorUnit:2},NOK:{code:"NOK",name:"NOK (kr)",symbol:"kr",minorUnit:2},BRL:{code:"BRL",name:"BRL (R$)",symbol:"R$",minorUnit:2},BND:{code:"BND",name:"BND ($)",symbol:"$",minorUnit:2},BGN:{code:"BGN",name:"BGN (лв)",symbol:"лв",minorUnit:2},BIF:{code:"BIF",name:"BIF",symbol:"BIF",minorUnit:0},CVE:{code:"CVE",name:"CVE",symbol:"CVE",minorUnit:2},KHR:{code:"KHR",name:"KHR (៛)",symbol:"៛",minorUnit:2},XAF:{code:"XAF",name:"XAF",symbol:"XAF",minorUnit:0},CAD:{code:"CAD",name:"CAD ($)",symbol:"$",minorUnit:2},KYD:{code:"KYD",name:"KYD ($)",symbol:"$",minorUnit:2},CLP:{code:"CLP",name:"CLP ($)",symbol:"$",minorUnit:0},CLF:{code:"CLF",name:"CLF",symbol:"CLF",minorUnit:4},CNY:{code:"CNY",name:"CNY (¥)",symbol:"¥",minorUnit:2},COP:{code:"COP",name:"COP (p.)",symbol:"p.",minorUnit:2},COU:{code:"COU",name:"COU",symbol:"COU",minorUnit:2},KMF:{code:"KMF",name:"KMF",symbol:"KMF",minorUnit:0},CDF:{code:"CDF",name:"CDF",symbol:"CDF",minorUnit:2},NZD:{code:"NZD",name:"NZD ($)",symbol:"$",minorUnit:2},CRC:{code:"CRC",name:"CRC (₡)",symbol:"₡",minorUnit:2},HRK:{code:"HRK",name:"HRK (kn)",symbol:"kn",minorUnit:2},CUP:{code:"CUP",name:"CUP (₱)",symbol:"₱",minorUnit:2},CUC:{code:"CUC",name:"CUC",symbol:"CUC",minorUnit:2},ANG:{code:"ANG",name:"ANG (ƒ)",symbol:"ƒ",minorUnit:2},CZK:{code:"CZK",name:"CZK (Kč)",symbol:"Kč",minorUnit:2},DKK:{code:"DKK",name:"DKK (kr)",symbol:"kr",minorUnit:2},DJF:{code:"DJF",name:"DJF (CHF)",symbol:"CHF",minorUnit:0},DOP:{code:"DOP",name:"DOP (RD$)",symbol:"RD$",minorUnit:2},EGP:{code:"EGP",name:"EGP (E£)",symbol:"E£",minorUnit:2},SVC:{code:"SVC",name:"SVC ($)",symbol:"$",minorUnit:2},ERN:{code:"ERN",name:"ERN",symbol:"ERN",minorUnit:2},ETB:{code:"ETB",name:"ETB",symbol:"ETB",minorUnit:2},FKP:{code:"FKP",name:"FKP (£)",symbol:"£",minorUnit:2},FJD:{code:"FJD",name:"FJD ($)",symbol:"$",minorUnit:2},XPF:{code:"XPF",name:"XPF",symbol:"XPF",minorUnit:0},GMD:{code:"GMD",name:"GMD",symbol:"GMD",minorUnit:2},GEL:{code:"GEL",name:"GEL",symbol:"GEL",minorUnit:2},GHS:{code:"GHS",name:"GHS (GH¢)",symbol:"GH¢",minorUnit:2},GIP:{code:"GIP",name:"GIP (£)",symbol:"£",minorUnit:2},GTQ:{code:"GTQ",name:"GTQ (Q)",symbol:"Q",minorUnit:2},GBP:{code:"GBP",name:"GBP (£)",symbol:"£",minorUnit:2},GNF:{code:"GNF",name:"GNF",symbol:"GNF",minorUnit:0},GYD:{code:"GYD",name:"GYD ($)",symbol:"$",minorUnit:2},HTG:{code:"HTG",name:"HTG",symbol:"HTG",minorUnit:2},HNL:{code:"HNL",name:"HNL (L)",symbol:"L",minorUnit:2},HKD:{code:"HKD",name:"HKD (HK$)",symbol:"HK$",minorUnit:2},HUF:{code:"HUF",name:"HUF (Ft)",symbol:"Ft",minorUnit:2},ISK:{code:"ISK",name:"ISK (kr)",symbol:"kr",minorUnit:0},IDR:{code:"IDR",name:"IDR (Rp)",symbol:"Rp",minorUnit:2},XDR:{code:"XDR",name:"XDR",symbol:"XDR",minorUnit:0},IRR:{code:"IRR",name:"IRR",symbol:"IRR",minorUnit:2},IQD:{code:"IQD",name:"IQD",symbol:"IQD",minorUnit:3},ILS:{code:"ILS",name:"ILS (₪)",symbol:"₪",minorUnit:2},JMD:{code:"JMD",name:"JMD (J$)",symbol:"J$",minorUnit:2},JPY:{code:"JPY",name:"JPY (¥)",symbol:"¥",minorUnit:0},JOD:{code:"JOD",name:"JOD",symbol:"JOD",minorUnit:3},KZT:{code:"KZT",name:"KZT (лв)",symbol:"лв",minorUnit:2},KES:{code:"KES",name:"KES (KSh)",symbol:"KSh",minorUnit:2},KPW:{code:"KPW",name:"KPW (₩)",symbol:"₩",minorUnit:2},KRW:{code:"KRW",name:"KRW (₩)",symbol:"₩",minorUnit:0},KWD:{code:"KWD",name:"KWD (ك)",symbol:"ك",minorUnit:3},KGS:{code:"KGS",name:"KGS (лв)",symbol:"лв",minorUnit:2},LAK:{code:"LAK",name:"LAK (₭)",symbol:"₭",minorUnit:2},LBP:{code:"LBP",name:"LBP (£)",symbol:"£",minorUnit:2},LSL:{code:"LSL",name:"LSL",symbol:"LSL",minorUnit:2},ZAR:{code:"ZAR",name:"ZAR (R)",symbol:"R",minorUnit:2},LRD:{code:"LRD",name:"LRD ($)",symbol:"$",minorUnit:2},LYD:{code:"LYD",name:"LYD (LD)",symbol:"LD",minorUnit:3},CHF:{code:"CHF",name:"CHF",symbol:"CHF",minorUnit:2},MOP:{code:"MOP",name:"MOP",symbol:"MOP",minorUnit:2},MKD:{code:"MKD",name:"MKD (ден)",symbol:"ден",minorUnit:2},MGA:{code:"MGA",name:"MGA",symbol:"MGA",minorUnit:2},MWK:{code:"MWK",name:"MWK",symbol:"MWK",minorUnit:2},MYR:{code:"MYR",name:"MYR (RM)",symbol:"RM",minorUnit:2},MVR:{code:"MVR",name:"MVR",symbol:"MVR",minorUnit:2},MRU:{code:"MRU",name:"MRU",symbol:"MRU",minorUnit:2},MUR:{code:"MUR",name:"MUR (Rs)",symbol:"Rs",minorUnit:2},XUA:{code:"XUA",name:"XUA",symbol:"XUA",minorUnit:0},MXN:{code:"MXN",name:"MXN ($)",symbol:"$",minorUnit:2},MXV:{code:"MXV",name:"MXV",symbol:"MXV",minorUnit:2},MDL:{code:"MDL",name:"MDL",symbol:"MDL",minorUnit:2},MNT:{code:"MNT",name:"MNT (₮)",symbol:"₮",minorUnit:2},MAD:{code:"MAD",name:"MAD",symbol:"MAD",minorUnit:2},MZN:{code:"MZN",name:"MZN (MT)",symbol:"MT",minorUnit:2},MMK:{code:"MMK",name:"MMK",symbol:"MMK",minorUnit:2},NAD:{code:"NAD",name:"NAD (N$)",symbol:"N$",minorUnit:2},NPR:{code:"NPR",name:"NPR (Rs)",symbol:"Rs",minorUnit:2},NIO:{code:"NIO",name:"NIO (C$)",symbol:"C$",minorUnit:2},NGN:{code:"NGN",name:"NGN (₦)",symbol:"₦",minorUnit:2},OMR:{code:"OMR",name:"OMR",symbol:"OMR",minorUnit:3},PKR:{code:"PKR",name:"PKR (Rs)",symbol:"Rs",minorUnit:2},PAB:{code:"PAB",name:"PAB (B/.)",symbol:"B/.",minorUnit:2},PGK:{code:"PGK",name:"PGK",symbol:"PGK",minorUnit:2},PYG:{code:"PYG",name:"PYG (Gs)",symbol:"Gs",minorUnit:0},PEN:{code:"PEN",name:"PEN (S/.)",symbol:"S/.",minorUnit:2},PHP:{code:"PHP",name:"PHP (₱)",symbol:"₱",minorUnit:2},PLN:{code:"PLN",name:"PLN (zł)",symbol:"zł",minorUnit:2},QAR:{code:"QAR",name:"QAR",symbol:"QAR",minorUnit:2},RON:{code:"RON",name:"RON (lei)",symbol:"lei",minorUnit:2},RUB:{code:"RUB",name:"RUB (руб)",symbol:"руб",minorUnit:2},RWF:{code:"RWF",name:"RWF",symbol:"RWF",minorUnit:0},SHP:{code:"SHP",name:"SHP (£)",symbol:"£",minorUnit:2},WST:{code:"WST",name:"WST",symbol:"WST",minorUnit:2},STN:{code:"STN",name:"STN",symbol:"STN",minorUnit:2},SAR:{code:"SAR",name:"SAR",symbol:"SAR",minorUnit:2},RSD:{code:"RSD",name:"RSD (Дин.)",symbol:"Дин.",minorUnit:2},SCR:{code:"SCR",name:"SCR (Rs)",symbol:"Rs",minorUnit:2},SLL:{code:"SLL",name:"SLL",symbol:"SLL",minorUnit:2},SGD:{code:"SGD",name:"SGD ($)",symbol:"$",minorUnit:2},XSU:{code:"XSU",name:"XSU",symbol:"XSU",minorUnit:0},SBD:{code:"SBD",name:"SBD ($)",symbol:"$",minorUnit:2},SOS:{code:"SOS",name:"SOS (S)",symbol:"S",minorUnit:2},SSP:{code:"SSP",name:"SSP",symbol:"SSP",minorUnit:2},LKR:{code:"LKR",name:"LKR (Rs)",symbol:"Rs",minorUnit:2},SDG:{code:"SDG",name:"SDG",symbol:"SDG",minorUnit:2},SRD:{code:"SRD",name:"SRD ($)",symbol:"$",minorUnit:2},SZL:{code:"SZL",name:"SZL",symbol:"SZL",minorUnit:2},SEK:{code:"SEK",name:"SEK (kr)",symbol:"kr",minorUnit:2},CHE:{code:"CHE",name:"CHE",symbol:"CHE",minorUnit:2},CHW:{code:"CHW",name:"CHW",symbol:"CHW",minorUnit:2},SYP:{code:"SYP",name:"SYP (£)",symbol:"£",minorUnit:2},TWD:{code:"TWD",name:"TWD (NT$)",symbol:"NT$",minorUnit:2},TJS:{code:"TJS",name:"TJS",symbol:"TJS",minorUnit:2},TZS:{code:"TZS",name:"TZS (TSh)",symbol:"TSh",minorUnit:2},THB:{code:"THB",name:"THB (฿)",symbol:"฿",minorUnit:2},TOP:{code:"TOP",name:"TOP",symbol:"TOP",minorUnit:2},TTD:{code:"TTD",name:"TTD (TT$)",symbol:"TT$",minorUnit:2},TND:{code:"TND",name:"TND (DT)",symbol:"DT",minorUnit:3},TRY:{code:"TRY",name:"TRY",symbol:"TRY",minorUnit:2},TMT:{code:"TMT",name:"TMT",symbol:"TMT",minorUnit:2},UGX:{code:"UGX",name:"UGX (USh)",symbol:"USh",minorUnit:0},UAH:{code:"UAH",name:"UAH (₴)",symbol:"₴",minorUnit:2},AED:{code:"AED",name:"AED (د.إ)",symbol:"د.إ",minorUnit:2},USN:{code:"USN",name:"USN",symbol:"USN",minorUnit:2},UYU:{code:"UYU",name:"UYU ($U)",symbol:"$U",minorUnit:2},UYI:{code:"UYI",name:"UYI",symbol:"UYI",minorUnit:0},UYW:{code:"UYW",name:"UYW",symbol:"UYW",minorUnit:4},UZS:{code:"UZS",name:"UZS (лв)",symbol:"лв",minorUnit:2},VUV:{code:"VUV",name:"VUV",symbol:"VUV",minorUnit:0},VES:{code:"VES",name:"VES",symbol:"VES",minorUnit:2},VND:{code:"VND",name:"VND (₫)",symbol:"₫",minorUnit:0},YER:{code:"YER",name:"YER",symbol:"YER",minorUnit:2},ZMW:{code:"ZMW",name:"ZMW (ZK)",symbol:"ZK",minorUnit:2},ZWL:{code:"ZWL",name:"ZWL",symbol:"ZWL",minorUnit:2},XBA:{code:"XBA",name:"XBA",symbol:"XBA",minorUnit:0},XBB:{code:"XBB",name:"XBB",symbol:"XBB",minorUnit:0},XBC:{code:"XBC",name:"XBC",symbol:"XBC",minorUnit:0},XBD:{code:"XBD",name:"XBD",symbol:"XBD",minorUnit:0},XTS:{code:"XTS",name:"XTS",symbol:"XTS",minorUnit:0},XXX:{code:"XXX",name:"XXX",symbol:"XXX",minorUnit:0},XAU:{code:"XAU",name:"XAU",symbol:"XAU",minorUnit:0},XPD:{code:"XPD",name:"XPD",symbol:"XPD",minorUnit:0},XPT:{code:"XPT",name:"XPT",symbol:"XPT",minorUnit:0},XAG:{code:"XAG",name:"XAG",symbol:"XAG",minorUnit:0}},InvoiceGenerator.config.timezones=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","UTC"]}.call(this),function(){"use strict";function EmailService(lss){function Email(obj){angular.extend(this,obj)}Email.default=function(){var savedDefault;return _default||(savedDefault=lss.get("defaultEmail")||"{}",(savedDefault=angular.fromJson(savedDefault)).from&&(savedDefault.venmo_username=savedDefault.from,savedDefault.paypal_email=savedDefault.from),_default=angular.copy(blankEmail),angular.extend(_default,savedDefault)),_default},Email.new=function(){return new Email(angular.copy(this.default()))},Email.prototype.makeDefault=function(){var newDefault=angular.copy(blankEmail),self=this;return angular.forEach(defaultProperties,function(property){newDefault[property]=self[property]}),_default=newDefault,lss.add("defaultEmail",angular.toJson(newDefault))};var _default=null,blankEmail={payment_link:!(Email.prototype.isDefault=function(){var email=this,theDefault=Email.default(),isDefault=!0;return angular.forEach(defaultProperties,function(emailValue){var defaultValue=theDefault[emailValue],emailValue=email[emailValue];"object"==typeof defaultValue&&null!==defaultValue?angular.equals(defaultValue,emailValue)||(isDefault=!1):defaultValue===emailValue||null===defaultValue&&""===emailValue||(isDefault=!1)}),isDefault}),payment_link_name:"",payment_link_url:"",paypal:!1,paypal_email:"",square_cash:!1,square_cashtag:"",venmo:!1,venmo_username:""},defaultProperties=["payment_link","payment_link_name","payment_link_url","paypal","paypal_email","square_cash","square_cashtag","venmo","venmo_username"];return Email}angular.module("app").factory("Email",EmailService),EmailService.$inject=["localStorageService"]}(),function(){"use strict";function InvoiceService(lss,$window,InvoiceGenerator,Logo){var Invoice=function(obj){angular.extend(this,obj),this.id||(this.id=this.number=Invoice.getNextID(),this.addLineItem()),this.calculate()};Invoice.default=function(){var json;return _default||(json=lss.get("defaultInvoice")||{},_default=deserialize(json)),_default},Invoice.new=function(type){var params=angular.copy(this.default());return params.type=type,params.draft=!0,new Invoice(params)},Invoice.find=function(id){if(id<1||isNaN(id))return!1;if(void 0!==cache[id])return cache[id];var invoice=lss.get(keyForID(id));if(invoice){invoice=new Invoice(deserialize(invoice));return cache[id]=invoice}return!1},Invoice.findAll=function(){var invoicesInfo=lss.get("invoicesInfo");if(invoicesInfo){var invoicesInfo=angular.fromJson(invoicesInfo),invoices=[],ids=[],self=this;return angular.forEach(invoicesInfo.ids,function(id){var invoice=self.find(id);invoice&&!isEmpty(invoice)&&(invoices.push(invoice),ids.push(id))}),angular.equals(ids,invoicesInfo.ids)||(invoicesInfo.ids=ids,lss.add("invoicesInfo",angular.toJson(invoicesInfo))),invoices.reverse()}return[]},Invoice.getLatestID=function(){var id=lss.get("invoicesInfo");if(id){id=angular.fromJson(id),id=Math.max.apply(Math,id.ids);return void 0===id||isNaN(id)||id<1?!1:parseInt(id)}return!1},Invoice.getNextID=function(){return this.getLatestID()+1},Invoice.setLastInvoice=function(invoice){return lss.add("lastInvoiceID",invoice.id)},Invoice.getLastInvoice=function(){return this.find(lss.get("lastInvoiceID"))},Invoice.deleteAll=function(){if(lss.clearAll())return Logo.clear(),cache={},!(_default=null)},Invoice.totalInvoices=function(){var invoicesInfo=lss.get("invoicesInfo");if(invoicesInfo){var invoicesInfo=angular.fromJson(invoicesInfo),numInvoices=0,self=this;return angular.forEach(invoicesInfo.ids,function(invoice){invoice=self.find(invoice);invoice&&!isEmpty(invoice)&&(numInvoices+=1)}),numInvoices}return 0},Invoice.prototype.addLineItem=function(){this.items.push({quantity:1,name:"",description:null,unit_cost:0,amount:0})},Invoice.prototype.deleteLineItem=function(item){if(1!==this.items.length)for(var i in this.items)if(this.items[i].$$hashKey===item.$$hashKey){this.items.splice(i,1);break}},Invoice.prototype.setLogo=function(logo){this.logo=logo,delete this.logo_hash},Invoice.prototype.removeLogo=function(){this.logo=null,delete this.logo_hash},Invoice.prototype.calculate=function(){var total=0;angular.forEach(this.items,function(item){var qty=item.quantity,rate=parseFloat(function(val,dRegex,tRegex){dRegex=new RegExp("\\"+dRegex,"g"),tRegex=new RegExp("\\"+tRegex,"g");return val.replace(tRegex,"").replace(dRegex,".")}(""+item.unit_cost,InvoiceGenerator.config.decimalSeparator,InvoiceGenerator.config.thousandsSeparator));item.amount=qty*rate,isNaN(item.amount)&&(item.amount=0),total+=item.amount}),this.subtotal=total;var discounts=parseFloat(this.discounts);isNaN(discounts)&&(discounts=0),"%"===this.fields.discounts?discounts=total*discounts/100:this.fields.discounts&&"0"!==this.fields.discounts||(discounts=0);var tax=parseFloat(this.tax);isNaN(tax)&&(tax=0),"%"===this.fields.tax?tax=(total-discounts)*tax/100:this.fields.tax&&"0"!==this.fields.tax||(tax=0);var balance_due=parseFloat(this.shipping);!isNaN(balance_due)&&this.fields.shipping&&"0"!==this.fields.shipping||(balance_due=0),total=parseFloat(total)-parseFloat(discounts)+parseFloat(tax)+parseFloat(balance_due),this.total=parseFloat(total);balance_due=parseFloat(this.amount_paid);isNaN(balance_due)&&(balance_due=0);balance_due=this.total-parseFloat(balance_due);this.balance=parseFloat(balance_due)},Invoice.prototype.save=function(){if(lss.add(keyForID(this.id),serialize(this))){cache[this.id]=this;var invoicesInfo={ids:[]},json=lss.get("invoicesInfo");json&&(invoicesInfo=angular.fromJson(json));var i,found=!1;for(i in invoicesInfo.ids)if(invoicesInfo.ids[i]==this.id){found=!0;break}return found||invoicesInfo.ids.push(this.id),lss.add("invoicesInfo",angular.toJson(invoicesInfo))}return!1},Invoice.prototype.makeDefault=function(){var newDefault=angular.copy($window.defaultInvoice),self=this;angular.forEach(defaultProperties,function(property){newDefault[property]=angular.copy(self[property])}),_default=newDefault,lss.add("defaultInvoice",serialize(newDefault))},Invoice.prototype.isDefault=function(){var invoice=this,theDefault=Invoice.default(),isDefault=!0;return angular.forEach(defaultProperties,function(invoiceValue){var defaultValue=theDefault[invoiceValue],invoiceValue=invoice[invoiceValue];"object"==typeof defaultValue&&null!==defaultValue?angular.equals(defaultValue,invoiceValue)||(isDefault=!1):defaultValue===invoiceValue||null===defaultValue&&""===invoiceValue||(isDefault=!1)}),isDefault},Invoice.prototype.delete=function(){if(lss.remove(keyForID(this.id))){delete cache[this.id];var json=lss.get("invoicesInfo");if(json){var i,invoicesInfo=angular.fromJson(json);for(i in invoicesInfo.ids)if(invoicesInfo.ids[i]==this.id){invoicesInfo.ids.splice(i,1);break}lss.add("invoicesInfo",angular.toJson(invoicesInfo))}return!0}};var defaultProperties=["currency","fields","logo","from","to_title","header","date_title","due_date_title","item_header","quantity_header","unit_cost_header","amount_header","subtotal_title","discounts_title","tax_title","shipping_title","total_title","amount_paid_title","balance_title","terms_title","terms","notes_title","notes"],_default=null,cache={};return Invoice;function keyForID(id){return"invoice-"+id}function serialize(obj){return(obj=angular.copy(obj)).logo&&!obj.logo_hash&&(obj.logo_hash=Logo.store(obj.logo)),delete obj.logo,angular.toJson(obj)}function deserialize(obj){obj="object"==typeof obj?obj:angular.fromJson(obj);return obj.logo_hash&&(obj.logo=Logo.retrieve(obj.logo_hash)),function migrateInvoice(invoice){void 0===invoice.version&&(invoice.version=1);invoice=angular.extend(angular.copy($window.defaultInvoice),invoice);if(invoice.version===$window.defaultInvoice.version)return invoice;4===invoice.version?migrateInvoiceV4(invoice):3===invoice.version?migrateInvoiceV3(invoice):2===invoice.version?migrateInvoiceV2(invoice):1===invoice.version&&migrateInvoiceV1(invoice);invoice.version++;return migrateInvoice(invoice)}(obj)}function isEmpty(invoice){return invoice.draft&&!invoice.to&&!invoice.total}function migrateInvoiceV4(invoice){void 0===invoice.type&&(invoice.type="invoice")}function migrateInvoiceV3(invoice){angular.forEach(["discounts","tax","shipping"],function(type){"0"==invoice.fields[type]?invoice.fields[type]=!1:"1"==invoice.fields[type]&&(invoice.fields[type]=!0)})}function migrateInvoiceV2(invoice){invoice.currency=invoice.currency.toLowerCase(),"/img/default-invoice-logo.png"===invoice.logo&&delete invoice.logo}function migrateInvoiceV1(invoice){"img/default-invoice-logo.png"===invoice.logo&&delete invoice.logo;angular.forEach({invoice_header:"header",invoice_no_title:"invoice_number_title",invoice_no:"number",description_header:"item_header",rate_header:"unit_cost_header"},function(_new,_old){void 0!==invoice[_old]&&(invoice[_new]=invoice[_old],delete invoice[_old])}),angular.forEach(invoice.items,function(item){angular.forEach({qty:"quantity",rate:"unit_cost",description:"name"},function(_new,_old){void 0!==item[_old]&&(item[_new]=item[_old],delete item[_old])}),""===item.quantity&&(item.quantity=1),item.quantity=parseFloat(item.quantity),item.unit_cost=parseFloat(item.unit_cost),item.description=null}),invoice.currency=invoice.currency.toUpperCase(),void 0===InvoiceGenerator.config.currencies[invoice.currency]&&(invoice.currency="USD"),void 0===invoice.fields&&(invoice.fields={discounts:0,tax:"%",shipping:0}),void 0!==invoice.tax_format&&(invoice.fields.tax=invoice.tax_format,delete invoice.tax_format),void 0===invoice.fields.discounts&&(invoice.fields.discounts=0)}}angular.module("app").factory("Invoice",InvoiceService),InvoiceService.$inject=["localStorageService","$window","InvoiceGenerator","Logo"]}(),function(){"use strict";function LeavePageWarning($window,$rootScope){var _blockers=0;return{block:function(){return _blockers++,$($window).off("beforeunload").bind("beforeunload",function(){$rootScope.$broadcast("leavePageWarning")}),this},unblock:function(){return _blockers--,0===(_blockers=Math.max(0,_blockers))&&$($window).off("beforeunload"),this},canLeave:function(){return 0===_blockers}}}angular.module("app").factory("LeavePageWarning",LeavePageWarning),LeavePageWarning.$inject=["$window","$rootScope"]}(),function(){"use strict";function LogoService(lss,LZString,md5){var Logo={},cached={};Logo.store=function(logo){var compressed,hash=md5.hash(logo),k=key(hash);return void 0!==cached[hash]||lss.get(k)||(compressed=LZString.compressToUTF16(logo),lss.add(k,compressed),cached[hash]=logo),hash},Logo.retrieve=function(hash){var compressed;return void 0===cached[hash]&&(compressed=lss.get(key(hash)),cached[hash]=LZString.decompressFromUTF16(compressed)),cached[hash]},Logo.read=function(element,success,failure){var reader=new FileReader,file=element.files[0];reader.onload=function(e){e=e||window.event,786432<file.size?failure("The image you have selected is too large. It must be 768KB or less"):-1!=$.inArray(file.type,["image/jpeg","image/gif","image/pjpeg","image/png"])?success(e.target.result):failure("The image you uploaded is not in a file type we accept. Please use a JPEG, PNG, or GIF")},reader.onerror=function(e){switch((e=e||window.event).target.error.code){case e.target.error.NOT_FOUND_ERR:failure("File not found!");break;case e.target.error.NOT_READABLE_ERR:failure("File not readable!");break;case e.target.error.ABORT_ERR:failure("Read operation was aborted!");break;case e.target.error.SECURITY_ERR:failure("File is in a locked state!");break;case e.target.error.ENCODING_ERR:failure('The file is too long to encode in a "data://" URL.');break;default:failure("Read error.")}},reader.readAsDataURL(file)},Logo.clear=function(){cached={}};var key=function(hash){return"logo-"+hash};return Logo}angular.module("app").factory("Logo",LogoService),LogoService.$inject=["localStorageService","LZString","md5"]}(),function(){"use strict";angular.module("app").factory("LZString",function(){return LZString})}(),function(){"use strict";angular.module("app").factory("md5",function(){return{hash:function(str){return md5(str)}}})}(),function(){"use strict";function Money(InvoiceGenerator){var symbols={},decimals={};return{currencySymbol:function(currency){if(!currency)return"";currency=currency.toString().toUpperCase(),void 0===symbols[currency]&&(void 0!==InvoiceGenerator.config.currencies[currency]?symbols[currency]=InvoiceGenerator.config.currencies[currency].symbol:symbols[currency]="");return symbols[currency]},currencyFormat:function(num,currency,options,html){if(!currency)return num;options=options||{},void 0===(options=angular.extend({use_symbol:!0},options)).precision&&(options.precision=function(currency){if(!currency)return 2;currency=currency.toString().toUpperCase(),void 0===decimals[currency]&&(void 0!==InvoiceGenerator.config.currencies[currency]?decimals[currency]=InvoiceGenerator.config.currencies[currency].minorUnit:decimals[currency]=2);return decimals[currency]}(currency));return new Intl.NumberFormat(void 0,{style:"currency",currency:currency.toString().toUpperCase(),minimumFractionDigits:options.precision,currencyDisplay:options.use_symbol?"symbol":"code"}).format(num)}}}angular.module("app").factory("Money",Money),Money.$inject=["InvoiceGenerator"]}(),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){$.expandingTextarea=$.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},$.expandingTextarea||{});var cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],textareaCSS={position:"absolute",height:"100%",resize:"none"},preCSS={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},containerCSS={position:"relative"};function resize(){$(this).closest(".expandingText").find("div").text(this.value.replace(/\r\n/g,"\n")+" "),$(this).trigger("resize.expanding")}$.fn.expandingTextarea=function(o){var opts=$.extend({},$.expandingTextarea.opts,o);return"resize"===o?this.trigger("input.expanding"):("destroy"===o?this.filter(".expanding-init").each(function(){var textarea=$(this).removeClass("expanding-init");textarea.closest(".expandingText").before(textarea).remove(),textarea.attr("style",textarea.data("expanding-styles")||"").removeData("expanding-styles")}):this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var textarea=$(this);textarea.wrap("<div class='expandingText'></div>"),textarea.after("<pre class='textareaClone'><div></div></pre>");var pre=textarea.parent().css(containerCSS).find("pre").css(preCSS);textarea.data("expanding-styles",textarea.attr("style")),textarea.css(textareaCSS),$.each(cloneCSSProperties,function(i,p){var val=textarea.css(p);pre.css(p)!==val&&pre.css(p,val)}),textarea.bind("input.expanding propertychange.expanding keyup.expanding",resize),resize.apply(this),opts.resize&&textarea.bind("resize.expanding",opts.resize)}),this)},$(function(){$.expandingTextarea.autoInitialize&&$($.expandingTextarea.initialSelector).expandingTextarea()})}),function(e,n){var t=[],l=[],f={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var s=this;setTimeout(function(){n(s[e])},0)},addTest:function(e,n,s){l.push({name:e,fn:n,options:s})},addAsyncTest:function(e){l.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=f,(Modernizr=new Modernizr).addTest("filereader",!!(e.File&&e.FileList&&e.FileReader));var r=n.documentElement,c="svg"===r.nodeName.toLowerCase();(function(){var e,n,s,a,i,r,c;for(c in l)if(l.hasOwnProperty(c)){if(e=[],(n=l[c]).name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(s=0;s<n.options.aliases.length;s++)e.push(n.options.aliases[s].toLowerCase());for(a="function"==typeof n.fn?n.fn():n.fn,i=0;i<e.length;i++)1===(r=e[i].split(".")).length?Modernizr[r[0]]=a:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=a),t.push((a?"":"no-")+r.join("-"))}})(),function(e){var o,n=r.className,s=Modernizr._config.classPrefix||"";c&&(n=n.baseVal),Modernizr._config.enableJSClass&&(o=new RegExp("(^|\\s)"+s+"no-js(\\s|$)"),n=n.replace(o,"$1"+s+"js$2")),Modernizr._config.enableClasses&&(n+=" "+s+e.join(" "+s),c?r.className.baseVal=n:r.className=n)}(t),delete f.addTest,delete f.addAsyncTest;for(var u=0;u<Modernizr._q.length;u++)Modernizr._q[u]();e.Modernizr=Modernizr}(window,document),angular.module("app").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("/templates/download.html",'<div class="modal fade" id=downloadModal tabindex=-1 aria-hidden=true>\n    <div class=modal-dialog>\n        <div class=modal-content>\n            <div class=modal-header>\n                <h4 class=modal-title>\n                    Download {{documentType}}\n                </h4>\n                <button class=btn-close ng-click=closeDownloadModal() aria-hidden=true></button>\n            </div>\n            <div class=modal-body>\n                <p>What file format do you want?</p>\n                <div class="d-flex justify-content-between">\n                    <a href="" ng-click=downloadPDF() class="download-format-btn w-50 m-2">\n                        <div class=icon><span class="fas fa-arrow-to-bottom"></span></div>\n                        PDF (Recommended)\n                    </a>\n                    <a href="" ng-click=downloadUBL() class="download-format-btn w-50 m-2">\n                        <div class=icon><span class="fas fa-arrow-to-bottom"></span></div>\n                        E-invoice\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),$templateCache.put("/templates/editor.html",'<form name=documentForm>\n\t<div class="invoice-holder clearfix">\n\t\t<div class=mobile-btns>\n\t\t\t<div class=inner>\n\t\t\t\t<div class=my-invoices-btn>\n\t\t\t\t\t<a href=/history class="btn btn-link">\n\t\t\t\t\t\tHistory\n\t\t\t\t\t\t<span class="badge rounded-circle" ng-show="numDocuments>0">{{numDocuments}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=right>\n\t\t\t\t\t<button type=button class="btn btn-link" ng-disabled=documentForm.$invalid ng-click=downloadModal()>\n\t\t\t\t\t\t<span class="fas fa-arrow-to-bottom"></span>\n\t\t\t\t\t\tDownload\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=button class="btn btn-primary" ng-disabled=documentForm.$invalid ng-click=sendModal()>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="invoice-controls desktop">\n\t\t\t<div class=affix-el id=invoice-controls-affix>\n\t\t\t\t<div class="d-grid gap-2">\n\t\t\t\t\t<button type=button class="btn btn-primary btn-lg" ng-disabled=documentForm.$invalid ng-click=sendModal() tabindex=1050>\n\t\t\t\t\t\tSend {{documentType}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=button class="btn btn-link" ng-disabled=documentForm.$invalid ng-click=downloadModal() tabindex=1051>\n\t\t\t\t\t\t<span class="fas fa-arrow-to-bottom"></span> Download {{documentType}}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section selected-currency">\n\t\t\t\t\t<label class=control-label>Currency</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=invoiced-select>\n\t\t\t\t\t\t\t<select ng-model=document.currency ng-options="currency.code as currency.name for (code, currency) in currencies"></select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section selected-currency">\n\t\t\t\t\t<label class=control-label>Type</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=invoiced-select>\n\t\t\t\t\t\t\t<select>\n\t\t\t\t\t\t\t\t<option>Invoice</option>\n\t\t\t\t\t\t\t\t<option>Credit Note</option>\n\t\t\t\t\t\t\t\t<option>Quote</option>\n\t\t\t\t\t\t\t\t<option>Purchase Order</option>\n\t\t\t\t\t\t\t\t<option>Receipt</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section save-template">\n\t\t\t\t\t<a href="" ng-click=saveDefaults() ng-show=!isDefault() tabindex=1054>\n\t\t\t\t\t\tSave Defaults\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section my-invoices-btn">\n\t\t\t\t\t<a href=/history tabindex=1054>\n\t\t\t\t\t\tHistory\n\t\t\t\t\t\t<span class="badge rounded-circle" ng-show="numDocuments>0">{{numDocuments}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=papers>\n\t\t\t<div class=invoice>\n\t\t\t\t<div class="two-col clearfix">\n\t\t\t\t\t<div class=title>\n\t\t\t\t\t\t<input class="form-control input-label" ng-model=document.header tabindex=10>\n\t\t\t\t\t\t<div class=subtitle>\n\t\t\t\t\t\t\t<div class=input-group>\n\t\t\t\t\t\t\t\t<span class=input-group-text>#</span>\n\t\t\t\t\t\t\t\t<input class=form-control tabindex=11 ng-model=document.number>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="col contact-info">\n\t\t\t\t\t\t<div class="logo noselect">\n\t\t\t\t\t\t  \t<div class=placeholder ng-hide=document.logo>\n\t\t\t\t\t\t  \t\t<div class=main><span class="fas fa-plus"></span> Add Your Logo</div>\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t<img ng-show=document.logo ng-src={{document.logo}} alt="Invoice Logo">\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-1 onchange=angular.element(this).scope().changeLogo(this) tabindex=12>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-2 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-3 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-4 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-5 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-6 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-7 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<input type=file accept=image/* class=file-8 onchange=angular.element(this).scope().changeLogo(this)>\n\t\t\t\t\t\t\t<button class=remove-logo ng-show=document.logo ng-click=removeLogo() tabindex=13>\n\t\t\t\t\t\t\t\t<span class="fas fa-times"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="logo-not-supported alert alert-warning">\n\t\t\t\t\t\t\t<span class="fas fa-exclamation-triangle"></span>\n\t\t\t\t\t\t\tUploading logos is not supported by your browser. Please consider <a href=https://firefox.com target=_blank>upgrading</a>.\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="contact from">\n\t\t\t\t\t\t\t<div class=value>\n\t\t\t\t\t\t\t\t<textarea class=form-control placeholder="Who is this invoice from? (required)" ng-model=document.from tabindex=15 required expanding-textarea></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="row bill-to-details">\n\t\t\t\t\t\t\t<div class=col-md-6>\n\t\t\t\t\t\t\t\t<div class="contact to">\n\t\t\t\t\t\t\t\t\t<div class=field>\n\t\t\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.to_title tabindex=16>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=value>\n\t\t\t\t\t\t\t\t\t\t<textarea class=form-control placeholder="Who is this invoice to? (required)" ng-model=document.to tabindex=17 required expanding-textarea></textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=col-md-6>\n\t\t\t\t\t\t\t\t<div class="contact to">\n\t\t\t\t\t\t\t\t\t<div class=field>\n\t\t\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.ship_to_title tabindex=18>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=value>\n\t\t\t\t\t\t\t\t\t\t<textarea class=form-control placeholder=(optional) ng-model=document.ship_to tabindex=19 expanding-textarea></textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="col invoice-details">\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.date_title tabindex=20>\n\t\t\t\t\t\t\t<div class=input-group-addon>\n\t\t\t\t\t\t\t\t<input class="form-control datepicker date" ng-model=document.date tabindex=21 date-picker>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.payment_terms_title tabindex=22>\n\t\t\t\t\t\t\t<div class=input-group-addon>\n\t\t\t\t\t\t\t\t<input class=form-control ng-model=document.payment_terms tabindex=23>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.due_date_title tabindex=24>\n\t\t\t\t\t\t\t<div class=input-group-addon>\n\t\t\t\t\t\t\t\t<input class="form-control datepicker due-date" ng-model=document.due_date tabindex=25 date-picker>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.purchase_order_title tabindex=26>\n\t\t\t\t\t\t\t<div class=input-group-addon>\n\t\t\t\t\t\t\t\t<input class=form-control ng-model=document.purchase_order tabindex=27>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=items-holder>\n\t\t\t\t\t<div class=items-table-header>\n\t\t\t\t\t\t<div class=amount>\n\t\t\t\t\t\t\t<div class="field bordered">\n\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.amount_header tabindex=31>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=unit_cost>\n\t\t\t\t\t\t\t<div class="field bordered">\n\t\t\t\t\t\t\t\t<input class="input-label form-control" required ng-model=document.unit_cost_header tabindex=30>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=quantity>\n\t\t\t\t\t\t\t<div class="field bordered">\n\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.quantity_header tabindex=29>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=name>\n\t\t\t\t\t\t\t<div class="field bordered">\n\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.item_header tabindex=28>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=items-table>\n\t\t\t\t\t\t<div class=item-row ng-repeat="(k, item) in document.items">\n\t\t\t\t\t\t\t<div class=main-row>\n\t\t\t\t\t\t\t\t<div class=delete ng-hide="document.items.length==1">\n\t\t\t\t\t\t\t\t\t<button type=button class=delete-row ng-click=deleteLineItem(item) tabindex={{40+8*k+5}}>\n\t\t\t\t\t\t\t\t\t\t<span class="fas fa-times"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="amount value" ng-bind-html=item.amount|currencyFormat:document.currency></div>\n\t\t\t\t\t\t\t\t<div class=unit_cost>\n\t\t\t\t\t\t\t\t\t<div ng-tabindex=40+8*k+3 ng-model=item.unit_cost currency=document.currency ng-required=true input-amount></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=quantity>\n\t\t\t\t\t\t\t\t\t<input type=number step=any class=form-control autocomplete=off ng-model=item.quantity tabindex={{40+8*k+2}} placeholder=Quantity required>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=name>\n\t\t\t\t\t\t\t\t\t<textarea class=form-control ng-model=item.name tabindex={{40+8*k+1}} placeholder="Description of service or product..." expanding-textarea></textarea>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=new-line>\n\t\t\t\t\t\t<button type=button class="btn btn-primary btn-sm" tabindex=1000 ng-click=addLineItem()>\n\t\t\t\t\t\t\t<span class="fas fa-plus"></span>\n\t\t\t\t\t\t\tLine Item\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="two-col clearfix">\n\t\t\t\t\t<div class="col footer">\n\t\t\t\t\t\t<div class=notes-holder>\n\t\t\t\t\t\t\t<div class=field>\n\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.notes_title tabindex=1014>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=value>\n\t\t\t\t\t\t\t\t<textarea class="notes form-control" placeholder="Notes - any relevant information not already covered" ng-model=document.notes tabindex=1015 expanding-textarea></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=terms-holder>\n\t\t\t\t\t\t\t<div class=field>\n\t\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.terms_title tabindex=1016>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=value>\n\t\t\t\t\t\t\t\t<textarea class="terms form-control" placeholder="Terms and conditions - late fees, payment methods, delivery schedule" ng-model=document.terms tabindex=1017 expanding-textarea></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col rates">\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.subtotal_title tabindex=1001>\n\t\t\t\t\t\t\t<div class="input-group-addon value deleteable" ng-bind-html=document.subtotal|currencyFormat:document.currency></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input" ng-show=!!document.fields.discounts>\n\t\t\t\t\t\t\t<div class=delete>\n\t\t\t\t\t\t\t\t<button type=button class="btn btn-link" ng-click=removeDiscount()>\n\t\t\t\t\t\t\t\t\t<span class="fas fa-times"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.discounts_title tabindex=1002>\n\t\t\t\t\t\t\t<div class="input-group-addon input deleteable">\n\t\t\t\t\t\t\t\t<div input-amount is-rate=discountIsRate currency=document.currency ng-model=document.discounts ng-tabindex=1003 has-selector=true></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input" ng-show=!!document.fields.tax>\n\t\t\t\t\t\t\t<div class=delete>\n\t\t\t\t\t\t\t\t<button type=button class="btn btn-link" ng-click=removeTax()>\n\t\t\t\t\t\t\t\t\t<span class="fas fa-times"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.tax_title tabindex=1004>\n\t\t\t\t\t\t\t<div class="input-group-addon input deleteable">\n\t\t\t\t\t\t\t\t<div input-amount is-rate=taxIsRate currency=document.currency ng-model=document.tax ng-tabindex=1005 has-selector=true></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input" ng-show=!!document.fields.shipping>\n\t\t\t\t\t\t\t<div class=delete>\n\t\t\t\t\t\t\t\t<button type=button class="btn btn-link" ng-click=removeShipping()>\n\t\t\t\t\t\t\t\t\t<span class="fas fa-times"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.shipping_title tabindex=1006>\n\t\t\t\t\t\t\t<div class="input-group-addon input deleteable">\n\t\t\t\t\t\t\t\t<div input-amount is-rate=false currency=document.currency ng-model=document.shipping ng-tabindex=1007></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=add-rates>\n\t\t\t\t\t\t\t<button type=button class="btn btn-link btn-sm" ng-click=addDiscount() ng-hide=!!document.fields.discounts tabindex=1008>\n\t\t\t\t\t\t\t\t<span class="fas fa-plus"></span>\n\t\t\t\t\t\t\t\tDiscount\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=button class="btn btn-link btn-sm" ng-click=addTax() ng-hide=!!document.fields.tax tabindex=1009>\n\t\t\t\t\t\t\t\t<span class="fas fa-plus"></span>\n\t\t\t\t\t\t\t\tTax\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=button class="btn btn-link btn-sm" ng-click=addShipping() ng-hide=!!document.fields.shipping tabindex=1010>\n\t\t\t\t\t\t\t\t<span class="fas fa-plus"></span>\n\t\t\t\t\t\t\t\tShipping\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.total_title tabindex=1011>\n\t\t\t\t\t\t\t<div class="input-group-addon value deleteable" ng-bind-html=document.total|currencyFormat:document.currency></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.amount_paid_title tabindex=1012>\n\t\t\t\t\t\t\t<div class="input-group-addon input deleteable">\n\t\t\t\t\t\t\t\t<div input-amount currency=document.currency ng-model=document.amount_paid ng-tabindex=1013></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="input-group addon-input">\n\t\t\t\t\t\t\t<input class="input-label form-control" ng-model=document.balance_title tabindex=1014>\n\t\t\t\t\t\t\t<div class="input-group-addon value deleteable" ng-bind-html=document.balance|currencyFormat:document.currency></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="invoice-controls mobile">\n\t\t\t<div class="d-none d-md-flex justify-content-between">\n\t\t\t\t<button type=button class="btn btn-primary btn-lg w-50 m-2" ng-disabled=documentForm.$invalid ng-click=sendModal()>\n\t\t\t\t\tSend {{documentType}}\n\t\t\t\t</button>\n\t\t\t\t<button type=button class="btn btn-link w-50 m-2" ng-disabled=documentForm.$invalid ng-click=downloadModal()>\n\t\t\t\t\t<span class="fas fa-arrow-to-bottom"></span> Download {{documentType}}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class="section selected-currency">\n\t\t\t\t<label class=control-label>Currency</label>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=invoiced-select>\n\t\t\t\t\t\t<select ng-model=document.currency ng-options="currency.code as currency.name for (code, currency) in currencies"></select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="section save-template">\n\t\t\t\t<a href="" ng-click=saveDefaults() ng-show=!isDefault()>\n\t\t\t\t\tSave Defaults\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div class="section my-invoices-btn d-none d-md-block">\n\t\t\t\t<a href=/history>\n\t\t\t\t\tHistory\n\t\t\t\t\t<span class="badge rounded-circle" ng-show="numDocuments>0">{{numDocuments}}</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</form>\n\n<div ng-include="\'/templates/send.html\'"></div>\n<div ng-include="\'/templates/download.html\'"></div>'),$templateCache.put("/templates/history.html",'<div class="body my-invoices-holder">\n\t<h1>\n\t\tHistory\n\t</h1>\n\t<p class=lead>\n\t\tWe automatically save invoices that you created recently to your device. This is useful when you need to quickly make an edit to an invoice.\n\t</p>\n\n\t<div class=row>\n\t\t<div class="col-sm-4 pt-2">\n\t\t\t<div class=search>\n\t\t\t\t<div class="searchbar light">\n\t\t\t\t\t<div class=bar>\n\t\t\t\t\t\t<div class=icon><span class="fas fa-search"></span></div>\n\t\t\t\t\t\t<input class=form-control ng-model=search tabindex=2000>\n\t\t\t\t\t\t<div class="icon right" ng-show=search>\n\t\t\t\t\t\t\t<button type=button class="btn btn-link" ng-click="search=\'\'" tabindex=2001>\n\t\t\t\t\t\t\t\t<span class="fas fa-times-circle"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-8 pt-2 text-sm-end">\n\t\t\t<button class="btn btn-default" ng-click=export()>\n\t\t\t\t<span class="fas fa-arrow-to-bottom"></span>\n\t\t\t\tExport\n\t\t\t</button>\n\t\t\t<a href=/#/new class="btn btn-success">\n\t\t\t\tNew Invoice\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\n\t<div class="my-invoices clearfix">\n\t\t<div ng-repeat="invoice in invoices | filter:search | orderBy:\'!id\' as results" class="invoice-card noselect">\n\t\t\t<a href=/#/{{invoice.id}} class=tile>\n\t\t\t\t<h3 ng-bind-html=invoice.balance|currencyFormat:invoice.currency></h3>\n\t\t\t\t<div class=to>{{invoice.to|firstline}}</div>\n\t\t\t\t<div class=date>{{invoice.date}}</div>\n\t\t\t\t<button class="btn btn-link btn-trash" href=# ng-click=delete(invoice,$event)>\n\t\t\t\t\t<span class="fas fa-trash"></span>\n\t\t\t\t</button>\n\t\t\t\t<div class=draft ng-if=invoice.draft></div>\n\t\t\t</a>\n\t\t</div>\n\t\t<div class=empty-message ng-show="results.length==0">\n\t\t\tNo invoices found.\n\t\t</div>\n\t</div>\n\n\t<hr>\n\t<p class=warning>\n\t\t<span class="fas fa-exclamation-triangle"></span>\n\t\tIf you did not use the Send Invoice option then these invoices are stored on your device only. Clearing your browser\'s history will erase these invoices. If you use the Download Invoice option then we recommend hanging on to a copy of each invoice you generate.\n\t</p>\n\n\t<div class=erase-everything ng-show="invoices.length>0">\n\t\t<button class="btn btn-danger btn-sm" ng-click=clearAll()>\n\t\t\tErase Everything\n\t\t</button>\n\t</div>\n</div>'),$templateCache.put("/templates/send.html",'<div class="modal fade" id=sendModal tabindex=-1 aria-hidden=true>\n\t<div class="modal-dialog modal-lg">\n\t\t<div class=modal-content>\n\t\t\t<form name=sendForm ng-submit="send(document, sendOptions)" class=email-form>\n\t\t\t\t<div class=modal-header>\n\t\t\t\t\t<h4 class=modal-title>\n\t\t\t\t\t\tSend {{documentType}}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<button type=button class=btn-close ng-click=closeSendModal() aria-hidden=true></button>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body text-center">\n\t\t\t\t\t<img src=/img/invoiced-business-network-logo.svg alt="Invoiced Business Network" height=35 class="mw-100 mb-3">\n\n\t\t\t\t\t<p class="alert alert-danger" ng-show=error>{{error}}</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSend this invoice to your buyer securely through Invoiced Business Network.\n\t\t\t\t\t</p>\n\t\t\t\t\t<hr>\n\n\t\t\t\t\t<div class="px-3 pt-3 text-start">\n\t\t\t\t\t\t<h6>What are the benefits?</h6>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tYour invoice will be saved to your Invoiced Business Network account for you and your buyer to view, download, and pay at any time.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<h6>How does my invoice get paid?</h6>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tYou have the option to accept payments through the network, or you can put your payment instructions on your invoice.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<h6>How much does it cost?</h6>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tSending and receiving invoices is free! There is only a cost if your buyer uses the network to pay you.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<h6>How can I learn more?</h6>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tLearn more about <a href=/signup target=_blank>how it works <span class="fas fa-external-link"></span></a>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-footer text-end">\n\t\t\t\t\t<button type=submit class="btn btn-primary Button" ng-disabled=sendForm.$invalid||sending v-busy=sending v-busy-label=Sending v-pressable>\n\t\t\t\t\t\tNext\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>')}]);
//# sourceMappingURL=app.js.map